var xe=Object.defineProperty;var X=Object.getOwnPropertySymbols;var he=Object.prototype.hasOwnProperty,ge=Object.prototype.propertyIsEnumerable;var Y=(e,a,t)=>a in e?xe(e,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[a]=t,k=(e,a)=>{for(var t in a||(a={}))he.call(a,t)&&Y(e,t,a[t]);if(X)for(var t of X(a))ge.call(a,t)&&Y(e,t,a[t]);return e};import{bo as pe,r as u,at as be,q as ye,p as R,V as G,E as K,n as _e,w as f,c as H,j as N,ak as V}from"./index.1a960ee0.js";/**
 * tdesign v0.34.4
 * (c) 2022 tdesign
 * @license MIT
 */var Ne=`
  min-height:0 !important;
  max-height:none !important;
  height:0 !important;
  visibility:hidden !important;
  overflow:hidden !important;
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important
`,l;function J(e){var a,t,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null;l||(l=document.createElement("textarea"),document.body.appendChild(l));var v=pe(e),i=v.paddingSize,y=v.borderSize,w=v.boxSizing,z=v.sizingStyle;l.setAttribute("style","".concat(z,";").concat(Ne)),l.value=e.value||e.placeholder||"";var d=l.scrollHeight,g={},S=w==="border-box",O=w==="content-box";S?d+=y:O&&(d-=i),l.value="";var C=l.scrollHeight-i;(a=l)===null||a===void 0||(t=a.parentNode)===null||t===void 0||t.removeChild(l),l=null;var _=function(x){var p=C*x;return S&&(p=p+i+y),p};if(o!==null){var P=_(o);d=Math.max(P,d),g.minHeight="".concat(P,"px")}return m!==null&&(d=Math.min(_(m),d)),g.height="".concat(d,"px"),g}/**
 * tdesign v0.34.4
 * (c) 2022 tdesign
 * @license MIT
 */var je={autofocus:!1,autosize:!1,disabled:!1,placeholder:void 0,readonly:!1},j="/Users/wjl/web-front-end/TDesign/tdesign-react-starter/node_modules/tdesign-react/es/textarea/Textarea.js",we=["disabled","maxlength","maxcharacter","className","readonly","autofocus","style","onKeydown","onKeypress","onKeyup","autosize","status","tips"];function Q(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter(function(m){return Object.getOwnPropertyDescriptor(e,m).enumerable})),t.push.apply(t,o)}return t}function A(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?Q(Object(t),!0).forEach(function(o){f(e,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Q(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})}return e}var $=u.exports.forwardRef(function(e,a){var t,o,m=e.disabled,v=e.maxlength,i=e.maxcharacter,y=e.className,w=e.readonly,z=e.autofocus,d=e.style,g=e.onKeydown,S=g===void 0?V:g,O=e.onKeypress,C=O===void 0?V:O,_=e.onKeyup,P=_===void 0?V:_,s=e.autosize,x=e.status,p=e.tips,F=be(e,we),ee=ye(e,"value",e.onChange),L=R(ee,2),M=L[0],h=M===void 0?"":M,te=L[1],ae=u.exports.useState(!1),U=R(ae,2),re=U[0],B=U[1],ne=u.exports.useState({}),I=R(ne,2),oe=I[0],D=I[1],Z=typeof i!="undefined",T=u.exports.useRef(),q=u.exports.useRef(),se=u.exports.useMemo(function(){return h?String(h).length:0},[h]),ie=u.exports.useMemo(function(){var r=G(String(h),i);return K(r)==="object"?r.length:r},[h,i]),ce=_e(),c=ce.classPrefix,ue=Object.keys(F).filter(function(r){return!/^on[A-Z]/.test(r)}),le=ue.reduce(function(r,n){return Object.assign(r,f({},n,e[n]))},{}),de=Object.keys(F).filter(function(r){return/^on[A-Z]/.test(r)}),fe=de.reduce(function(r,n){return Object.assign(r,f({},n,function(b){m||(n==="onFocus"&&B(!0),n==="onBlur"&&B(!1),e[n](b.currentTarget.value,{e:b}))})),r},{}),me=H(y,"".concat(c,"-textarea__inner"),(t={},f(t,"".concat(c,"-is-").concat(x),x),f(t,"".concat(c,"-is-disabled"),m),f(t,"".concat(c,"-is-focused"),re),f(t,"".concat(c,"-resize-none"),K(s)==="object"),t)),E=u.exports.useCallback(function(){s===!0?D(J(T.current)):K(s)==="object"&&D(J(T.current,s==null?void 0:s.minRows,s==null?void 0:s.maxRows))},[s]);function ve(r){var n=r.target,b=n.value;if(i&&i>=0){var W=G(b,i);b=K(W)==="object"&&W.characters}te(b,{e:r})}return u.exports.useEffect(function(){s===!1&&D({height:"auto",minHeight:"auto"})},[E,s]),u.exports.useEffect(function(){E()},[E,h]),u.exports.useImperativeHandle(a,function(){return{currentElement:q.current,textareaElement:T.current}}),N.exports.jsxDEV("div",{style:d,ref:q,className:H(y,"".concat(c,"-textarea")),children:[N.exports.jsxDEV("textarea",k({},A(A(A({},le),fe),{},{value:h,style:oe,className:me,readOnly:w,autoFocus:z,disabled:m,maxLength:v,onChange:ve,onKeyDown:function(n){return S(n.currentTarget.value,{e:n})},onKeyPress:function(n){return C(n.currentTarget.value,{e:n})},onKeyUp:function(n){return P(n.currentTarget.value,{e:n})},ref:T})),void 0,!1,{fileName:j,lineNumber:174,columnNumber:21},this),Z?N.exports.jsxDEV("span",{className:"".concat(c,"-textarea__limit"),children:"".concat(ie,"/").concat(i)},void 0,!1,{fileName:j,lineNumber:199,columnNumber:41},this):null,!Z&&v?N.exports.jsxDEV("span",{className:"".concat(c,"-textarea__limit"),children:"".concat(se,"/").concat(v)},void 0,!1,{fileName:j,lineNumber:201,columnNumber:115},this):null,p?N.exports.jsxDEV("div",{className:H("".concat(c,"-textarea__tips"),(o={},f(o,"".concat(c,"-textarea__tips--normal"),!x),f(o,"".concat(c,"-textarea__tips--").concat(x),x),o)),children:p},void 0,!1,{fileName:j,lineNumber:203,columnNumber:85},this):null]},void 0,!0,{fileName:j,lineNumber:170,columnNumber:25},this)});$.displayName="Textarea";$.defaultProps=je;/**
 * tdesign v0.34.4
 * (c) 2022 tdesign
 * @license MIT
 */var Pe=$;export{Pe as T};
